type Product {
  id: ID!
  name: String!
  description: String
  designImageURL: String  # Keep for backward compatibility
  imageURLs: [String!]    # NEW: Array of image URLs
  basePrice: Float!
  isActive: Boolean!
  variants: [ProductVariant]
  createdAt: String!
  material: String
  neckline: String
  sleeveType: String
  fit: String
  brand: String
  category: String
  careInstructions: String
  weight: Float
  featured: Boolean
  limitedEdition: Boolean
}

type ProductVariant {
  id: ID!
  productID: ID!
  size: String!
  color: String
  priceModifier: Float!
  sku: String!
  price: Float!
  inventory: Inventory
  product: Product!
}

type Inventory {
  id: ID!
  variantID: ID!
  stockQuantity: Int!
  reservedQuantity: Int!
  availableQuantity: Int!
}

input ProductInput {
  name: String!
  description: String
  designImageURL: String  # Keep for backward compatibility
  imageURLs: [String!]    # NEW: Array of image URLs
  basePrice: Float!
  material: String
  neckline: String
  sleeveType: String
  fit: String
  brand: String
  category: String
  careInstructions: String
  weight: Float
  featured: Boolean
  limitedEdition: Boolean
}

input ProductVariantInput {
  productID: ID!
  size: String!
  color: String
  priceModifier: Float!
  sku: String!
  stockQuantity: Int!
}

extend type Query {
  products(isActive: Boolean): [Product!]!
  product(id: ID!): Product
  productsByCategory(category: String!): [Product!]!
  productOptions: ProductOptions!
}

extend type Mutation {
  createProduct(input: ProductInput!): Product!
  updateProduct(id: ID!, input: ProductInput!): Product!
  deleteProduct(id: ID!): Boolean!
  createProductVariant(input: ProductVariantInput!): ProductVariant!
  updateInventory(variantID: ID!, quantity: Int!): Inventory!
}

type ProductOptions {
  sizes: [String!]!
  colors: [String!]!
  materials: [String!]!
  necklines: [String!]!
  sleeveTypes: [String!]!
  fits: [String!]!
}
